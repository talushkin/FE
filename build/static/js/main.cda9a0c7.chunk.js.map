{"version":3,"sources":["assets/cardboard-texture.jpg","i18n.js","components/translateAI.jsx","components/RecipeDialog.jsx","components/HeaderBar.jsx","utils/storage.jsx","store/dataSlice.js","components/NavItemList.jsx","components/NavMenu.jsx","components/CaseCard.jsx","components/MainContent.jsx","components/themes.jsx","components/GlobalStyle.jsx","Pages/HomePage.jsx","Pages/RecipeCategory.jsx","Pages/RecipeDetail.jsx","Pages/AddRecipe.jsx","store/store.js","index.jsx"],"names":["module","exports","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","supportedLngs","detection","order","caches","resources","en","translation","appName","addCategory","changeOrder","addRecipe","editOrder","delete","recipeName","ingredients","preparation","createdAt","description","save","close","page","of","recipes","loading","search","he","fr","ar","de","es","it","pt","ru","zh","ja","ko","pl","tr","nl","BASE_URL","translateDirectly","async","text","toLang","arguments","length","undefined","console","warn","_res$data","res","axios","post","concat","targetLanguage","headers","Authorization","data","translatedText","err","_err$response","error","response","message","RecipeDialog","_ref","open","onClose","onSave","onDelete","recipe","targetLang","type","categoryName","autoFill","t","useTranslation","isRTL","language","editableRecipe","setEditableRecipe","useState","title","imageUrl","_id","isLoadingImage","setIsLoadingImage","isFillingAI","setIsFillingAI","useEffect","handleFillAI","Promise","all","prev","_objectSpread","doTranslate","handleChange","field","event","target","value","authToken","localStorage","getItem","fetch","method","body","JSON","stringify","recipeId","ok","Error","json","handleRecreateImage","React","createElement","Dialog","dir","PaperProps","style","maxWidth","width","DialogTitle","backgroundColor","textAlign","padding","fontSize","IconButton","onClick","position","right","top","fontWeight","Box","left","height","display","alignItems","justifyContent","bgcolor","zIndex","CircularProgress","DialogContent","marginBottom","src","alt","maxHeight","borderRadius","size","TextField","label","onChange","fullWidth","margin","multiline","rows","DialogActions","Button","variant","color","handleDelete","handleSave","HeaderBar","logo","onHamburgerClick","pages","toggleDarkMode","desktop","isDarkMode","searchQuery","setSearchQuery","filteredSuggestions","setFilteredSuggestions","selectedRecipe","setSelectedRecipe","dialogOpen","setDialogOpen","setLanguage","allRecipes","flatMap","category","itemPage","handleSearchChange","filtered","filter","_recipe$title","toLowerCase","includes","Fragment","className","flexWrap","boxSizing","gap","marginLeft","FormControl","sx","marginRight","InputLabel","id","MuiSelect","labelId","newLang","changeLanguage","document","MenuItem","Brightness4Icon","flex","Autocomplete","freeSolo","options","map","onInputChange","handleSelect","find","renderInput","params","Object","assign","e","placeholder","minWidth","backgroundImage","cardboardTexture","backgroundSize","backgroundRepeat","transition","borderColor","AUTH_HEADER","loadData","categoriesRes","get","recipesRes","log","site","success","header","cat","r","_r$categoryId","categoryId","join","loadDataThunk","createAsyncThunk","_","rejectWithValue","storage","addCategoryThunk","_ref2","trim","_err$response4","_err$response2","delCategoryThunk","_ref3","_ref4","_err$response5","_err$response3","reorderCategoriesThunk","orderedCategories","_ref5","updates","index","put","priority","_err$response6","addRecipeThunk","_ref6","_ref7","delRecipeThunk","_ref8","updateRecipeThunk","updatedRecipe","_ref9","_err$response7","dataSlice","createSlice","name","initialState","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","SortableItem","_item$itemPage","item","onSelect","editCategories","translatedCategory","delCategoryCallback","attributes","listeners","setNodeRef","transform","useSortable","CSS","Transform","toString","recipeCount","firstRecipeImage","ref","stopPropagation","preventDefault","window","confirm","href","objectFit","NavItemList","onOrderChange","setReorder","dispatch","useDispatch","initializeItems","Date","now","Math","random","items","setItems","translatedCategories","setTranslatedCategories","inputValue","setInputValue","newCat","setNewCat","translations","translateCategories","handleDelCategory","_items$find","categoryToDelete","i","prevItems","sortedItems","sort","a","b","DndContext","sensors","useSensors","useSensor","PointerSensor","activationConstraint","distance","collisionDetection","closestCenter","onDragEnd","active","over","oldIndex","findIndex","newIndex","newItems","arrayMove","idx","SortableContext","strategy","verticalListSortingStrategy","key","onKeyDown","handleAddItem","newItem","dayjs","format","NavMenu","isOpen","setEditCategories","reorder","orderedPages","setOrderedPages","navigate","useNavigate","categoryEncoded","encodeURIComponent","newOrder","CaseCard","currentLang","translated","setTranslated","setImageUrl","isLoading","setIsLoading","translateFields","onError","SortableRecipe","cursor","MainContent","selected","setPage","setTranslatedCategory","openView","setOpenView","openAdd","setOpenAdd","openFill","setOpenFill","viewedItem","setViewedItem","newRecipe","setNewRecipe","setEditOrder","setRecipes","translateCategory","handleAddRecipe","newRecipeData","unwrap","_error$response","totalItems","totalPages","ceil","startIndex","endIndex","min","currentItems","slice","handleSelectRecipe","titleEncoded","flexBasis","Pagination","count","handlePageChange","theme","mode","newRecipes","colClass","prevRecipes","_error$response2","handleUpdateRecipe","then","catch","handleDeleteRecipe","lightTheme","background","headerBackground","sidebarBackground","caseBackground","caseTextColor","darkTheme","GlobalStyle","createGlobalStyle","_templateObject","_taggedTemplateLiteral","Main","props","_recipes$site","_recipes$site2","_recipes$site3","setSelected","menuOpen","setMenuOpen","setIsDarkMode","setDesktop","innerWidth","handleResize","addEventListener","ThemeProvider","handleHamburgerClick","prevMenuOpen","scrollTo","behavior","RecipeCategory","useParams","selectedCategoryData","_page$category","HomePage","RecipeDetail","selectedRecipeData","selectedCategory","_data$site","store","configureStore","reducer","dataReducer","rootElement","getElementById","App","fetchData","Routes","Route","path","element","AddRecipe","ReactDOM","createRoot","render","StrictMode","Provider","I18nextProvider","Router"],"mappings":"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","file":"static/js/main.cda9a0c7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cardboard-texture.9a8bc323.jpg\";","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: \"en\",\n    supportedLngs: [\n      \"en\",\n      \"he\",\n      \"fr\",\n      \"ar\",\n      \"de\",\n      \"es\",\n      \"it\",\n      \"pt\",\n      \"ru\",\n      \"zh\",\n      \"ja\",\n      \"ko\",\n      \"pl\",\n      \"tr\",\n      \"nl\",\n    ],\n    detection: {\n      order: [\"localStorage\", \"navigator\"],\n      caches: [\"localStorage\"],\n    },\n    resources: {\n      en: {\n        translation: {\n          appName: \"Recipes\",\n          addCategory: \"Add Category\",\n          changeOrder: \"Change Category Order\",\n          addRecipe: \"Add Recipe\",\n          editOrder: \"Reorder\",\n          delete: \"Delete\",\n          recipeName: \"Recipe Name\",\n          ingredients: \"Ingredients\",\n          preparation: \"Preparation\",\n          createdAt: \"Created At\",\n          description: \"Description\",\n          save: \"Save\",\n          close: \"Close\",\n          page: \"Page\",\n          of: \"of\",\n          recipes: \"Recipes\",\n          loading: \"Translating...\",\n          search: \"Search\",\n        },\n      },\n      he: {\n        translation: {\n          appName: \"מתכונים\",\n          addCategory: \"הוסף קטגוריה\",\n          changeOrder: \"שנה סדר קטגוריות\",\n          addRecipe: \"הוסף מתכון\",\n          recipeName: \"שם המתכון\",\n          ingredients: \"מצרכים\",\n          preparation: \"אופן הכנה\",\n          createdAt: \"נוצר בתאריך\",\n          description: \"תיאור\",\n          save: \"שמור\",\n          close: \"סגור\",\n          page: \"דף\",\n          of: \"מתוך\",\n          recipes: \"מתכונים\",\n          loading: \"מתרגם...\",\n          search: \"חיפוש\",\n        },\n      },\n      fr: {\n        translation: {\n          appName: \"Recettes\",\n          addCategory: \"Ajouter une catégorie\",\n          changeOrder: \"Changer l'ordre des catégories\",\n          addRecipe: \"Ajouter une recette\",\n          recipeName: \"Nom de la recette\",\n          ingredients: \"Ingrédients\",\n          preparation: \"Préparation\",\n          createdAt: \"Créé le\",\n          description: \"Description\",\n          save: \"Enregistrer\",\n          close: \"Fermer\",\n          page: \"Page\",\n          of: \"de\",\n          recipes: \"recettes\",\n          loading: \"Traduction...\",\n          search: \"Rechercher\",\n        },\n      },\n      ar: {\n        translation: {\n          appName: \"وصفات\",\n          addCategory: \"أضف فئة\",\n          changeOrder: \"تغيير ترتيب الفئات\",\n          addRecipe: \"أضف وصفة\",\n          recipeName: \"اسم الوصفة\",\n          ingredients: \"المكونات\",\n          preparation: \"طريقة التحضير\",\n          createdAt: \"تاريخ الإنشاء\",\n          description: \"الوصف\",\n          save: \"حفظ\",\n          close: \"إغلاق\",\n          page: \"صفحة\",\n          of: \"من\",\n          recipes: \"وصفات\",\n          loading: \"جارٍ الترجمة...\",\n          search: \"بحث\",\n        },\n      },\n      de: {\n        translation: {\n          appName: \"Rezepte\",\n          addCategory: \"Kategorie hinzufügen\",\n          changeOrder: \"Kategorie-Reihenfolge ändern\",\n          addRecipe: \"Rezept hinzufügen\",\n          recipeName: \"Rezeptname\",\n          ingredients: \"Zutaten\",\n          preparation: \"Zubereitung\",\n          createdAt: \"Erstellt am\",\n          description: \"Beschreibung\",\n          save: \"Speichern\",\n          close: \"Schließen\",\n          page: \"Seite\",\n          of: \"von\",\n          recipes: \"Rezepte\",\n          loading: \"Übersetzen...\",\n          search: \"Suche\",\n        },\n      },\n      es: {\n        translation: {\n          appName: \"Recetas\",\n          addCategory: \"Agregar categoría\",\n          changeOrder: \"Cambiar orden de categorías\",\n          addRecipe: \"Agregar receta\",\n          recipeName: \"Nombre de la receta\",\n          ingredients: \"Ingredientes\",\n          preparation: \"Preparación\",\n          createdAt: \"Creado en\",\n          description: \"Descripción\",\n          save: \"Guardar\",\n          close: \"Cerrar\",\n          page: \"Página\",\n          of: \"de\",\n          recipes: \"recetas\",\n          loading: \"Traduciendo...\",\n          search: \"Buscar\",\n        },\n      },\n      it: {\n        translation: {\n          appName: \"Ricette\",\n          addCategory: \"Aggiungi categoria\",\n          changeOrder: \"Cambia ordine categorie\",\n          addRecipe: \"Aggiungi ricetta\",\n          recipeName: \"Nome della ricetta\",\n          ingredients: \"Ingredienti\",\n          preparation: \"Preparazione\",\n          createdAt: \"Creato il\",\n          description: \"Descrizione\",\n          save: \"Salva\",\n          close: \"Chiudi\",\n          page: \"Pagina\",\n          of: \"di\",\n          recipes: \"ricette\",\n          loading: \"Traduzione...\",\n          search: \"Cerca\",\n        },\n      },\n      pt: {\n        translation: {\n          appName: \"Receitas\",\n          addCategory: \"Adicionar categoria\",\n          changeOrder: \"Alterar ordem das categorias\",\n          addRecipe: \"Adicionar receita\",\n          recipeName: \"Nome da receita\",\n          ingredients: \"Ingredientes\",\n          preparation: \"Preparação\",\n          createdAt: \"Criado em\",\n          description: \"Descrição\",\n          save: \"Salvar\",\n          close: \"Fechar\",\n          page: \"Página\",\n          of: \"de\",\n          recipes: \"receitas\",\n          loading: \"Traduzindo...\",\n          search: \"Procurar\",\n        },\n      },\n      ru: {\n        translation: {\n          appName: \"Рецепты\",\n          addCategory: \"Добавить категорию\",\n          changeOrder: \"Изменить порядок категорий\",\n          addRecipe: \"Добавить рецепт\",\n          recipeName: \"Название рецепта\",\n          ingredients: \"Ингредиенты\",\n          preparation: \"Приготовление\",\n          createdAt: \"Создано\",\n          description: \"Описание\",\n          save: \"Сохранить\",\n          close: \"Закрыть\",\n          page: \"Страница\",\n          of: \"из\",\n          recipes: \"рецепты\",\n          loading: \"Перевод...\",\n          search: \"Поиск\",\n        },\n      },\n      zh: {\n        translation: {\n          appName: \"食谱\",\n          addCategory: \"添加类别\",\n          changeOrder: \"更改类别顺序\",\n          addRecipe: \"添加食谱\",\n          recipeName: \"食谱名称\",\n          ingredients: \"配料\",\n          preparation: \"准备\",\n          createdAt: \"创建于\",\n          description: \"描述\",\n          save: \"保存\",\n          close: \"关闭\",\n          page: \"页\",\n          of: \"的\",\n          recipes: \"食谱\",\n          loading: \"翻译中...\",\n          search: \"搜索\",\n        },\n      },\n      ja: {\n        translation: {\n          appName: \"レシピ\",\n          addCategory: \"カテゴリを追加\",\n          changeOrder: \"カテゴリの順序を変更\",\n          addRecipe: \"レシピを追加\",\n          recipeName: \"レシピ名\",\n          ingredients: \"材料\",\n          preparation: \"準備\",\n          createdAt: \"作成日\",\n          description: \"説明\",\n          save: \"保存\",\n          close: \"閉じる\",\n          page: \"ページ\",\n          of: \"の\",\n          recipes: \"レシピ\",\n          loading: \"翻訳中...\",\n          search: \"検索\",\n        },\n      },\n      ko: {\n        translation: {\n          appName: \"레시피\",\n          addCategory: \"카테고리 추가\",\n          changeOrder: \"카테고리 순서 변경\",\n          addRecipe: \"레시피 추가\",\n          recipeName: \"레시피 이름\",\n          ingredients: \"재료\",\n          preparation: \"준비\",\n          createdAt: \"생성일\",\n          description: \"설명\",\n          save: \"저장\",\n          close: \"닫기\",\n          page: \"페이지\",\n          of: \"중\",\n          recipes: \"레시피\",\n          loading: \"번역 중...\",\n          search: \"검색\",\n        },\n      },\n      pl: {\n        translation: {\n          appName: \"Przepisy\",\n          addCategory: \"Dodaj kategorię\",\n          changeOrder: \"Zmień kolejność kategorii\",\n          addRecipe: \"Dodaj przepis\",\n          recipeName: \"Nazwa przepisu\",\n          ingredients: \"Składniki\",\n          preparation: \"Przygotowanie\",\n          createdAt: \"Utworzono\",\n          description: \"Opis\",\n          save: \"Zapisz\",\n          close: \"Zamknij\",\n          page: \"Strona\",\n          of: \"z\",\n          recipes: \"przepisy\",\n          loading: \"Tłumaczenie...\",\n          search: \"Szukaj\",\n        },\n      },\n      tr: {\n        translation: {\n          appName: \"Tarifler\",\n          addCategory: \"Kategori Ekle\",\n          changeOrder: \"Kategori Sırasını Değiştir\",\n          addRecipe: \"Tarif Ekle\",\n          recipeName: \"Tarif Adı\",\n          ingredients: \"Malzemeler\",\n          preparation: \"Hazırlık\",\n          createdAt: \"Oluşturulma Tarihi\",\n          description: \"Açıklama\",\n          save: \"Kaydet\",\n          close: \"Kapat\",\n          page: \"Sayfa\",\n          of: \"İçin\",\n          recipes: \"Tarifler\",\n          loading: \"Çevriliyor...\",\n          search: \"Ara\",\n        },\n      },\n      nl: {\n        translation: {\n          appName: \"Recepten\",\n          addCategory: \"Categorie toevoegen\",\n          changeOrder: \"Wijzig volgorde van categorieën\",\n          addRecipe: \"Voeg recept toe\",\n          recipeName: \"Recept naam\",\n          ingredients: \"Ingrediënten\",\n          preparation: \"Bereiding\",\n          createdAt: \"Gemaakt op\",\n          description: \"Omschrijving\",\n          save: \"Opslaan\",\n          close: \"Sluiten\",\n          page: \"Pagina\",\n          of: \"van\",\n          recipes: \"recepten\",\n          loading: \"Vertalen...\",\n          search: \"Zoeken\",\n        },\n      },\n    },\n  });\n\nexport default i18n;\n","// NEVER expose real keys in production apps or public sandboxes\nimport axios from \"axios\";\n\nconst BASE_URL = \"https://be-tan-theta.vercel.app\";\n\nexport const translateDirectly = async (text, toLang = \"en\") => {\n  if (!text || !toLang) {\n    console.warn(\"Text or target language is missing\");\n    return text;\n  }\n\n  try {\n    const res = await axios.post(\n      `${BASE_URL}/api/ai/translate`,\n      {\n        text: text,\n        targetLanguage: toLang,\n      },\n      {\n        headers: {\n          Authorization: `Bearer 1234`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    return res?.data?.translatedText || text;\n  } catch (err) {\n    console.error(\"Error translating text:\", err.response?.data || err.message);\n    return text;\n  }\n};\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Button,\n  TextField,\n  IconButton,\n  CircularProgress,\n  Box,\n} from \"@mui/material\";\nimport { useTranslation } from \"react-i18next\";\nimport { translateDirectly } from \"./translateAI\";\n\nconst BASE_URL = \"https://be-tan-theta.vercel.app\";\n\nconst RecipeDialog = ({\n  open,\n  onClose,\n  onSave,\n  onDelete,\n  recipe,\n  targetLang = \"en\",\n  type,\n  categoryName,\n  autoFill = false,\n}) => {\n  const { i18n, t } = useTranslation();\n  const isRTL = i18n.language === \"he\" || i18n.language === \"ar\";\n\n  const [editableRecipe, setEditableRecipe] = useState({\n    title: recipe?.title || \"\",\n    ingredients: recipe?.ingredients || \"\",\n    preparation: recipe?.preparation || \"\",\n    imageUrl: recipe?.imageUrl || \"\",\n    _id: recipe?._id || \"\",\n  });\n\n  const [isLoadingImage, setIsLoadingImage] = useState(false);\n  const [isFillingAI, setIsFillingAI] = useState(false);\n\n  useEffect(() => {\n    if (recipe) {\n      setEditableRecipe({\n        title: recipe.title || \"\",\n        ingredients: recipe.ingredients || \"\",\n        preparation: recipe.preparation || \"\",\n        imageUrl: recipe.imageUrl || \"\",\n      });\n    }\n  }, [recipe]);\n\n  useEffect(() => {\n    if (editableRecipe && autoFill) {\n      handleFillAI();\n    }\n  }, [autoFill]);\n\n  useEffect(() => {\n    if (!recipe || !targetLang || !open || targetLang === \"en\") return;\n    const doTranslate = async () => {\n      try {\n        const [title, ingredients, preparation] = await Promise.all([\n          translateDirectly(recipe.title, targetLang),\n          translateDirectly(recipe.ingredients, targetLang),\n          translateDirectly(recipe.preparation, targetLang),\n        ]);\n        setEditableRecipe((prev) => ({\n          ...prev,\n          title,\n          ingredients,\n          preparation,\n        }));\n      } catch (error) {\n        console.error(\"Error during translation:\", error);\n      }\n    };\n    doTranslate();\n  }, [recipe, targetLang, open]);\n\n  const handleChange = (field) => (event) => {\n    setEditableRecipe((prev) => ({\n      ...prev,\n      [field]: event.target.value,\n    }));\n  };\n\n  const handleSave = () => {\n    onSave(editableRecipe);\n    onClose();\n  };\n\n  const handleFillAI = async () => {\n    setIsFillingAI(true);\n    try {\n      const authToken = localStorage.getItem(\"authToken\") || \"1234\";\n      const response = await fetch(`${BASE_URL}/api/ai/fill-recipe`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${authToken}`,\n        },\n        body: JSON.stringify({\n          categoryName: categoryName,\n          title: editableRecipe.title,\n          recipeId: recipe?._id,\n        }),\n      });\n      if (!response.ok) throw new Error(\"Failed to fill recipe via AI\");\n\n      const data = await response.json();\n      setEditableRecipe((prev) => ({\n        ...prev,\n        ingredients: data.ingredients,\n        title: data.title || prev.title,\n        preparation: data.preparation,\n      }));\n      await handleRecreateImage(data.title || editableRecipe.title);\n    } catch (error) {\n      console.error(\"Error while filling recipe via AI:\", error);\n    } finally {\n      setIsFillingAI(false);\n    }\n  };\n\n  const handleRecreateImage = async (text = editableRecipe?.title) => {\n    setIsLoadingImage(true);\n    try {\n      const authToken = localStorage.getItem(\"authToken\") || \"1234\";\n      const response = await fetch(`${BASE_URL}/api/ai/image`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${authToken}`,\n        },\n        body: JSON.stringify({\n          text: text,\n          recipeId: recipe?._id,\n        }),\n      });\n      if (!response.ok) throw new Error(\"Failed to recreate image via AI\");\n\n      const data = await response.json();\n      setEditableRecipe((prev) => ({\n        ...prev,\n        imageUrl: data.imageUrl,\n      }));\n    } catch (error) {\n      console.error(\"Error while recreating image via AI:\", error);\n    } finally {\n      setIsLoadingImage(false);\n    }\n  };\n\n  const handleDelete = () => {\n    if (onDelete) {\n      editableRecipe._id = recipe?._id;\n      onDelete(editableRecipe);\n      onClose();\n    }\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      dir={isRTL ? \"rtl\" : \"ltr\"}\n      PaperProps={{\n        style: { maxWidth: \"95%\", width: \"95%\" },\n      }}\n    >\n      <DialogTitle\n        style={{\n          backgroundColor: \"#f7f1e3\",\n          textAlign: \"center\",\n          padding: \"10px 0 0 0\",\n          fontSize: \"20px\",\n        }}\n      >\n        {editableRecipe.title}\n        <IconButton\n          onClick={onClose}\n          style={{ position: \"absolute\", right: 8, top: 8 }}\n        >\n          <span style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>×</span>\n        </IconButton>\n      </DialogTitle>\n\n      <Box position=\"relative\">\n        {isFillingAI && (\n          <Box\n            position=\"absolute\"\n            top={0}\n            left={0}\n            width=\"100%\"\n            height=\"100%\"\n            display=\"flex\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            bgcolor=\"rgba(255,255,255,0.6)\"\n            zIndex={10}\n          >\n            <CircularProgress />\n          </Box>\n        )}\n\n        <DialogContent\n          style={{\n            backgroundColor: \"#f7f1e3\",\n          }}\n        >\n          <Box\n            position=\"relative\"\n            display=\"flex\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            marginBottom={2}\n          >\n            <img\n              src={\n                editableRecipe.imageUrl ||\n                \"https://placehold.co/100x100?text=No+Image\"\n              }\n              alt={editableRecipe.title}\n              style={{ maxHeight: \"300px\", borderRadius: \"28px\" }}\n            />\n            {isLoadingImage && (\n              <CircularProgress\n                size={48}\n                style={{\n                  position: \"absolute\",\n                }}\n              />\n            )}\n            <IconButton\n              onClick={() => handleRecreateImage(editableRecipe.title)}\n              title={t(\"recreate image\")}\n              style={{ position: \"absolute\", right: 10, top: 10 }}\n            >\n              <span style={{ fontSize: \"24px\" }}>✏️</span>\n            </IconButton>\n          </Box>\n\n          <TextField\n            label={t(\"recipeName\")}\n            value={editableRecipe.title}\n            onChange={handleChange(\"title\")}\n            fullWidth\n            margin=\"normal\"\n          />\n          <TextField\n            label={t(\"ingredients\")}\n            value={editableRecipe.ingredients}\n            onChange={handleChange(\"ingredients\")}\n            fullWidth\n            multiline\n            rows={4}\n            margin=\"normal\"\n          />\n          <TextField\n            label={t(\"preparation\")}\n            value={editableRecipe.preparation}\n            onChange={handleChange(\"preparation\")}\n            fullWidth\n            multiline\n            rows={4}\n            margin=\"normal\"\n          />\n        </DialogContent>\n      </Box>\n\n      <DialogActions>\n        <Button onClick={handleFillAI} variant=\"contained\" color=\"secondary\">\n          {t(\"fill AI\")}\n        </Button>\n        <Button onClick={handleDelete} variant=\"contained\" color=\"error\">\n          {t(\"delete\")}\n        </Button>\n        <Button onClick={handleSave} variant=\"contained\">\n          {t(\"save\")}\n        </Button>\n        <Button onClick={onClose} variant=\"contained\" color=\"primary\">\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default RecipeDialog;\n","import React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Autocomplete, TextField } from \"@mui/material\";\nimport RecipeDialog from \"./RecipeDialog\";\nimport cardboardTexture from \"../assets/cardboard-texture.jpg\";\nimport Brightness4Icon from \"@mui/icons-material/Brightness4\";\nimport {\n  FormControl,\n  InputLabel,\n  Select as MuiSelect,\n  MenuItem, Button\n} from \"@mui/material\";\nexport default function HeaderBar({\n  logo,\n  onHamburgerClick,\n  pages,\n  toggleDarkMode,\n  desktop, isDarkMode\n}) {\n  const { t, i18n } = useTranslation();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n  const [selectedRecipe, setSelectedRecipe] = useState(null);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [language, setLanguage] = useState(i18n.language);\n\n  const allRecipes = pages?.flatMap((category) => category.itemPage);\n\n  const handleLanguageChange = (event) => {\n    const newLang = event.target.value;\n    setLanguage(newLang);\n    i18n.changeLanguage(newLang);\n    document.body.dir = newLang === \"he\" || newLang === \"ar\" ? \"rtl\" : \"ltr\";\n  };\n\n  const handleSearchChange = (event, value) => {\n    setSearchQuery(value);\n    if (!value) {\n      setFilteredSuggestions([]);\n      return;\n    }\n    const filtered = allRecipes?.filter((recipe) =>\n      recipe.title?.toLowerCase().includes(value.toLowerCase())\n    );\n    setFilteredSuggestions(filtered);\n  };\n\n  const handleSelect = (event, value) => {\n    const recipe = allRecipes.find((page) => page.title === value);\n    if (recipe) {\n      setSelectedRecipe(recipe);\n      setDialogOpen(true);\n    }\n  };\n\n  return (\n    <>\n      <div\n        className=\"HeaderBar\"\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\", // space between hamburger and search\n          padding: \"8px\",\n          flexWrap: \"nowrap\",\n          width: \"100%\",\n          boxSizing: \"border-box\",\n          maxHeight: \"80px\",\n        }}\n      >\n        {/* Left side: Hamburger and Site Name */}\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n          {!desktop &&\n            (<button className=\"hamburger\" onClick={onHamburgerClick}>\n              ☰\n            </button>)\n          }\n          <img\n            src=\"https://vt-photos.s3.amazonaws.com/recipe-app-icon-generated-image.png\"\n            alt=\"Logo\"\n            style={{\n              width: \"40px\",\n              height: \"40px\",\n              borderRadius: \"50%\",\n              marginLeft: \"8px\",\n            }}\n          />\n          <div className=\"SiteName\">{t(\"appName\")}</div>\n\n        </div>\n\n        <div>\n          <FormControl sx={{ maxWidth: \"150px\", marginRight: \"8px\" }}>\n            <InputLabel id=\"language-select-label\">\n            </InputLabel>\n            <MuiSelect\n              labelId=\"language-select-label\"\n              value={language}\n              onChange={handleLanguageChange}\n              sx={{\n                backgroundColor: \"darkgreen\",\n                color: \"white\",\n                \"& .MuiSvgIcon-root\": {\n                  color: \"white\",\n                },\n              }}\n            >\n              <MenuItem value=\"en\">English</MenuItem>\n              <MenuItem value=\"he\">עברית</MenuItem>\n              <MenuItem value=\"fr\">Français</MenuItem>\n              <MenuItem value=\"ar\">العربية</MenuItem>\n              <MenuItem value=\"de\">Deutsch</MenuItem>\n              <MenuItem value=\"es\">Español</MenuItem>\n              <MenuItem value=\"it\">Italiano</MenuItem>\n              <MenuItem value=\"pt\">Português</MenuItem>\n              <MenuItem value=\"ru\">Русский</MenuItem>\n              <MenuItem value=\"zh\">中文</MenuItem>\n              <MenuItem value=\"ja\">日本語</MenuItem>\n              <MenuItem value=\"ko\">한국어</MenuItem>\n              <MenuItem value=\"pl\">Polski</MenuItem>\n              <MenuItem value=\"tr\">Türkçe</MenuItem>\n              <MenuItem value=\"nl\">Nederlands</MenuItem>\n            </MuiSelect>\n          </FormControl>\n        </div>\n              <Button\n        variant=\"contained\"\n        onClick={toggleDarkMode}\n        sx={{\n          backgroundColor: 'darkgreen',\n          // mt: '200px',\n          //mb: 2,\n          \"&:hover\": {\n            backgroundColor: 'green',\n            \"& .MuiSvgIcon-root\": {\n              color: 'black',\n            },\n          },\n        }}\n      >\n        <Brightness4Icon sx={{ color: 'black' }} />\n      </Button>\n        {/* Right side: Search */}\n        <div style={{ flex: 0, maxWidth: \"400px\" }}>\n          <Autocomplete\n            freeSolo\n            options={filteredSuggestions.map((page) => page.title)}\n            onInputChange={handleSearchChange}\n            onChange={handleSelect}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                value={searchQuery}\n                onChange={(e) => handleSearchChange(e, e.target.value)}\n                label={t(\"search\")}\n                placeholder=\"keywords\"\n                variant=\"outlined\"\n                fullWidth\n                sx={{\n                  minWidth: \"150px\",\n                  maxWidth: \"400px\",\n                  backgroundImage: `url(${cardboardTexture})`,\n                  backgroundSize: \"cover\",\n                  backgroundRepeat: \"repeat\",\n                  borderRadius: \"8px\",\n                  \"& .MuiInputBase-input\": { color: \"white\" },\n                  \"& .MuiInputLabel-root\": { color: \"white\" },\n                }}\n              />\n            )}\n            sx={{\n              maxHeight: \"80px\",\n              padding: \"0px\",\n              maxWidth: \"150px\",\n              transition: \"width 0.3s ease\",\n              backgroundImage: `url(${cardboardTexture})`,\n              backgroundSize: \"fit\",\n              padding: \"0.1rem\",\n              backgroundRepeat: \"repeat\",\n              \"& .MuiInputBase-input\": {\n                color: \"white\",\n              },\n              \"& .MuiInputLabel-root\": {\n                color: \"white\",\n              },\n              \"&:focus-within\": {\n                width: \"100%\",\n              },\n              borderRadius: \"8px\",\n              \"&.MuiOutlinedInput-root\": {\n                padding: \"0 px\",\n                \"& fieldset\": {\n                  borderColor: \"black\",\n                },\n                \"&:hover fieldset\": {\n                  borderColor: \"black\",\n                },\n                \"&.Mui-focused fieldset\": {\n                  borderColor: \"black\",\n                },\n                \"&.MuiOutlinedInput-root\": {\n                  padding: \"0 px\",\n                }\n\n              },\n            }}\n          />\n        </div>\n      </div>\n\n      {selectedRecipe && (\n        <RecipeDialog\n          open={dialogOpen}\n          onClose={() => setDialogOpen(false)}\n          recipe={selectedRecipe}\n          targetLang={i18n.language}\n        />\n      )},\n\n    </>\n  );\n}\n","// utils/storage.js\nimport axios from \"axios\";\nimport { useTranslation } from \"react-i18next\";\nimport dayjs from \"dayjs\";\n\n// Base URL and Authorization token\nconst LOCAL_URL = \"http://localhost:5000\";\nconst BASE_URL = \"https://be-tan-theta.vercel.app\";\n\nconst AUTH_HEADER = {\n  Authorization: `Bearer 1234`,\n};\n\n// Load categories and recipes from the server\nexport const loadData = async () => {\n  try {\n    // Fetch categories and recipes using direct axios calls\n    const categoriesRes = await axios.get(`${BASE_URL}/api/categories`, {\n      headers: AUTH_HEADER,\n    });\n    const recipesRes = await axios.get(`${BASE_URL}/api/recipes`, {\n      headers: AUTH_HEADER,\n    });\n\n    console.log(\"categoriesRes\", categoriesRes.data);\n    console.log(\"recipesRes\", recipesRes.data);\n\n    // Construct the site object\n    const site = {\n      success: true,\n      message: \"Data loaded successfully\",\n      site: {\n        header: {\n          logo: \"https://vt-photos.s3.amazonaws.com/recipe-app-icon-generated-image.png\"},\n        pages: categoriesRes.data.map((cat) => ({\n          category: cat.category || \"unknown category\",\n          _id: cat._id,\n          itemPage: recipesRes.data\n            .filter((r) => r.categoryId?._id === cat._id)\n            .map((r) => ({\n              title: r.title,\n              ingredients: r.ingredients.join(\",\"),\n              preparation: r.preparation,\n              imageUrl: r.imageUrl,\n              createdAt: r.createdAt,\n              _id: r._id,\n            })),\n        })),\n      },\n    };\n    console.log(\"Data loaded successfully:\", site);\n    return site;\n  } catch (err) {\n    console.error(\"Error loading data from API:\", err);\n    return { site: { pages: [] } };\n  }\n};\n\n// Add a new recipe\nexport const addRecipe = async (recipe, category) => {\n  console.log(\"addRecipe api\", recipe, category);\n  if (!recipe.title || !category?._id) {\n    console.error(\"Missing recipe or category ID\");\n    return null;\n  }\n\n  try {\n    console.log(\"category\", category);\n    console.log(\"recipe\", recipe);\n    const res = await axios.post(\n      `${BASE_URL}/api/recipes`,\n      {\n        title: recipe.title,\n        ingredients: recipe.ingredients,\n        preparation: recipe.preparation,\n        categoryId: category._id,\n        categoryName: category.category,\n        imageUrl: recipe.imageUrl || \"https://placehold.co/100x100?text=No+Image\",\n      },\n      { headers: AUTH_HEADER }\n    );\n    console.log(\"Recipe added:\", res.data);\n    return res.data;\n  } catch (err) {\n    console.error(\"Error adding recipe:\", err.response?.data || err.message);\n    return null;\n  }\n};\n\n// Update a recipe\nexport const updateRecipe = async (updatedRecipe) => {\n  if (!updatedRecipe._id) {\n    console.error(\"Missing recipe ID for update.\");\n    return null;\n  }\n  try {\n    const res = await axios.put(\n      `${BASE_URL}/api/recipes/${updatedRecipe._id}`,\n      {\n        title: updatedRecipe.title,\n        ingredients: updatedRecipe.ingredients,\n        preparation: updatedRecipe.preparation,\n        imageUrl: updatedRecipe.imageUrl || \"https://placehold.co/100x100?text=No+Image\",\n        categoryId: updatedRecipe.categoryId,\n      },\n      { headers: AUTH_HEADER }\n    );\n    console.log(\"Recipe updated:\", res.data);\n    return res.data;\n  } catch (err) {\n    console.error(\"Error updating recipe:\", err.response?.data || err.message);\n    return null;\n  }\n};\n\n// Delete a recipe\nexport const delRecipe = async (recipeId) => {\n  try {\n    await axios.delete(`${BASE_URL}/api/recipes/${recipeId}`, {\n      headers: AUTH_HEADER,\n    });\n    console.log(\"Recipe deleted:\", recipeId);\n  } catch (err) {\n    console.error(\"Error deleting recipe:\", err.response?.data || err.message);\n  }\n};\n\n// Add a new category\nexport const addCategory = async (categoryName) => {\n  if (!categoryName?.trim()) {\n    console.warn(\"Category name is empty\");\n    return;\n  }\n\n  try {\n    const res = await axios.post(\n      `${BASE_URL}/api/categories`,\n      { category: categoryName.trim() },\n      { headers: AUTH_HEADER }\n    );\n    console.log(\"Category added:\", res.data);\n    return res.data;\n  } catch (err) {\n    console.error(\"Error adding category:\", err.response?.data || err.message);\n    return null;\n  }\n};\n\n// Delete a category\nexport const delCategory = async (categoryId, categoryName) => {\n  try {\n    await axios.delete(`${BASE_URL}/api/categories/${categoryId}`, {\n      headers: AUTH_HEADER,\n    });\n    console.log(\"Category deleted:\", categoryId, categoryName);\n  } catch (err) {\n    console.error(\"Error deleting category:\", err.response?.data || err.message);\n  }\n};\n\n// Handle reordering of categories\nexport const handleItemsChangeOrder = async (orderedCategories) => {\n  try {\n    const updates = orderedCategories.map((cat, index) =>\n      axios.put(\n        `${BASE_URL}/api/categories/${cat._id}`,\n        { priority: index + 1 },\n        { headers: AUTH_HEADER }\n      )\n    );\n    await Promise.all(updates);\n    console.log(\"Categories reordered successfully\");\n  } catch (err) {\n    console.error(\"Error updating category order:\", err.response?.data || err.message);\n  }\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport * as storage from '../utils/storage';\n\n// Async thunk for loading data\nexport const loadDataThunk = createAsyncThunk(\n  'data/loadData',\n  async (_, { rejectWithValue }) => {\n    try {\n      const site = await storage.loadData();\n      return site;\n    } catch (err) {\n      return rejectWithValue(err.response?.data || err.message);\n    }\n  }\n);\n\n// Async thunk for adding a category\nexport const addCategoryThunk = createAsyncThunk(\n  'data/addCategory',\n  async (categoryName, { rejectWithValue }) => {\n    try {\n      const res = await storage.addCategory(categoryName);\n      return res;\n    } catch (err) {\n      return rejectWithValue(err.response?.data || err.message);\n    }\n  }\n);\n\n// Async thunk for deleting a category\nexport const delCategoryThunk = createAsyncThunk(\n  'data/delCategory',\n  async ({ categoryId, categoryName }, { rejectWithValue }) => {\n    try {\n      await storage.delCategory(categoryId, categoryName);\n      return categoryId;\n    } catch (err) {\n      return rejectWithValue(err.response?.data || err.message);\n    }\n  }\n);\n\n// Async thunk for reordering categories\nexport const reorderCategoriesThunk = createAsyncThunk(\n  'data/reorderCategories',\n  async (orderedCategories, { rejectWithValue }) => {\n    try {\n      await storage.handleItemsChangeOrder(orderedCategories);\n      return orderedCategories;\n    } catch (err) {\n      return rejectWithValue(err.response?.data || err.message);\n    }\n  }\n);\n\n// Async thunk for adding a recipe\nexport const addRecipeThunk = createAsyncThunk(\n  'data/addRecipe',\n  async ({ recipe, category }, { rejectWithValue }) => {\n    try {\n      const res = await storage.addRecipe(recipe, category);\n      return res;\n    } catch (err) {\n      return rejectWithValue(err.response?.data || err.message);\n    }\n  }\n);\n\n// Async thunk for deleting a recipe\nexport const delRecipeThunk = createAsyncThunk(\n  'data/delRecipe',\n  async (recipeId, { rejectWithValue }) => {\n    console.log('Deleting recipe with ID:', recipeId);\n    try {\n      await storage.delRecipe(recipeId);\n      return recipeId;\n    } catch (err) {\n      return rejectWithValue(err.response?.data || err.message);\n    }\n  }\n);\n\n// Async thunk for updating a recipe\nexport const updateRecipeThunk = createAsyncThunk(\n  'data/updateRecipe',\n  async (updatedRecipe, { rejectWithValue }) => {\n    try {\n      const res = await storage.updateRecipe(updatedRecipe);\n      return res;\n    } catch (err) {\n      return rejectWithValue(err.response?.data || err.message);\n    }\n  }\n);\n\nconst initialState = {\n  site: null,\n  loading: false,\n  error: null,\n};\n\nconst dataSlice = createSlice({\n  name: 'data',\n  initialState,\n  reducers: {\n    // Additional synchronous reducers can be declared here if needed\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadDataThunk.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(loadDataThunk.fulfilled, (state, action) => {\n        state.loading = false;\n        state.site = action.payload;\n      })\n      .addCase(loadDataThunk.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(addCategoryThunk.fulfilled, (state, action) => {\n        if (state.site && state.site.pages) {\n          state.site.pages.push(action.payload);\n        }\n      })\n      .addCase(delCategoryThunk.fulfilled, (state, action) => {\n        if (state.site && state.site.pages) {\n          state.site.pages = state.site.pages.filter(\n            (cat) => cat._id !== action.payload\n          );\n        }\n      })\n      .addCase(reorderCategoriesThunk.fulfilled, (state, action) => {\n        if (state.site && state.site.pages) {\n          state.site.pages = action.payload;\n        }\n      })\n      .addCase(addRecipeThunk.fulfilled, (state, action) => {\n        // Optionally update state when a new recipe is added.\n        // For example, push the new recipe to the appropriate category's itemPage array.\n      })\n      .addCase(delRecipeThunk.fulfilled, (state, action) => {\n        const recipeId = action.payload;\n        if (state.site && state.site.pages) {\n          state.site.pages = state.site.pages.map((page) => ({\n            ...page,\n            itemPage: page.itemPage.filter((recipe) => recipe._id !== recipeId)\n          }));\n        }\n      })\n      .addCase(updateRecipeThunk.fulfilled, (state, action) => {\n        const updatedRecipe = action.payload;\n        if (state.site && state.site.pages) {\n          state.site.pages = state.site.pages.map((page) => ({\n            ...page,\n            itemPage: page.itemPage.map((recipe) =>\n              recipe._id === updatedRecipe._id ? updatedRecipe : recipe\n            )\n          }));\n        }\n      });\n  },\n});\n\nexport default dataSlice.reducer;","import React, { useState, useEffect } from \"react\";\nimport dayjs from \"dayjs\";\nimport { useTranslation } from \"react-i18next\";\nimport { translateDirectly } from \"./translateAI\";\nimport { useDispatch } from \"react-redux\";\nimport { addCategoryThunk, reorderCategoriesThunk, delCategoryThunk } from \"../store/dataSlice\";\n\nimport {\n  DndContext,\n  closestCenter,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport {\n  SortableContext,\n  verticalListSortingStrategy,\n  arrayMove,\n  useSortable,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport i18n from \"../i18n\";\n\n  const isRTL = i18n.dir() === \"rtl\";\n// A sortable item component using dnd‑kit\nfunction SortableItem({\n  item,\n  index,\n  onSelect,\n  editCategories,\n  translatedCategory,\n  delCategoryCallback,\n}) {\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({\n    id: item._id,\n  });\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  // Compute recipe count for this category\n  const recipeCount = item.itemPage?.length || 0;\n\n  // Get the image URL from the first recipe in the category, if available\n  const firstRecipeImage =\n    item.itemPage && item.itemPage.length > 0\n      ? item.itemPage[0].imageUrl\n      : \"https://placehold.co/40x40?text=No+Image\";\n\n  return (\n    <li\n      ref={setNodeRef}\n      style={style}\n      dir={isRTL ? \"rtl\" : \"ltr\"}\n      className=\"nav-item flex items-center justify-start nowrap\" // added \"nav-item\" class\n      {...attributes}\n      {...listeners}\n    >\n      {editCategories && (\n        <>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              if (window.confirm(\"Delete ? `\" + translatedCategory + \"`\")) {\n                delCategoryCallback(item._id);\n              }\n            }}\n          >\n            🗑\n          </button>\n          ☰\n        </>\n      )}\n      <a\n        href=\"#\"\n        onClick={(e) => {\n          e.preventDefault();\n          onSelect(item);\n        }}\n        className=\"flex-1 flex items-center\"\n      >\n        {editCategories && index + 1 + \". \"}\n        <img\n          src={firstRecipeImage}\n          alt=\"Category\"\n          style={{\n            width: \"40px\",\n            height: \"40px\",\n            marginRight: \"0.5rem\",\n            marginLeft: \"0.5rem\",\n            borderRadius: \"50%\",\n            objectFit: \"cover\",\n          }}\n        />\n        {translatedCategory || item.category}{\" \"}\n        <span\n          className=\"text-gray-500 ml-2\"\n        >\n          ({recipeCount})\n        </span>\n      </a>\n\n    </li>\n  );\n}\n\nexport default function NavItemList({\n  pages = [],\n  onSelect,\n  editCategories,\n  onOrderChange,\n  setReorder,\n}) {\n  const { t, i18n } = useTranslation();\n  const dispatch = useDispatch();\n\n  // Initialize items with a unique _id and default priority \n  const initializeItems = () =>\n    pages.map((item, index) => ({\n      ...item,\n      _id: item._id || Date.now() + Math.random(),\n      priority: item.priority !== undefined ? item.priority : index + 1,\n    }));\n\n  const [items, setItems] = useState(initializeItems());\n  const [translatedCategories, setTranslatedCategories] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [newCat, setNewCat] = useState(false);\n\n  // Sync items with pages when pages change\n  useEffect(() => {\n    setItems(initializeItems());\n  }, [pages]);\n\n  // Translate category names\n  useEffect(() => {\n    const translateCategories = async () => {\n      if (pages.length === 0) return;\n      const translations = await Promise.all(\n        pages.map((item) => translateDirectly(item.category, i18n.language))\n      );\n      setTranslatedCategories(translations);\n    };\n    translateCategories();\n  }, [pages, i18n.language]);\n\n  const handleAddItem = () => {\n    setNewCat(false);\n    if (inputValue.trim() === \"\") return;\n    const newItem = {\n      _id: Date.now() + Math.random(),\n      category: inputValue.trim(),\n      createdAt: dayjs().format(\"DD-MM-YYYY\"),\n      itemPage: [],\n      priority: items.length + 1,\n    };\n    // Dispatch redux thunk to add category instead of calling storage directly\n    dispatch(addCategoryThunk(inputValue.trim()));\n    setItems([...items, newItem]);\n    setInputValue(\"\");\n  };\n\n  // Callback when drag ends: update order, set new priorities, persist via redux\n  const handleDragEnd = (event) => {\n    const { active, over } = event;\n    console.log(\"Drag ended\", active, over);\n    if (!over) return; // No item was dropped\n    if (active.id !== over.id) {\n      const oldIndex = items.findIndex((item) => item._id === active.id);\n      const newIndex = items.findIndex((item) => item._id === over.id);\n      let newItems = arrayMove(items, oldIndex, newIndex);\n      // Update each item's priority based on its new index\n      newItems = newItems.map((item, idx) => ({ ...item, priority: idx + 1 }));\n      console.log(\"Moved items\", newItems);\n      setItems(newItems);\n      dispatch(reorderCategoriesThunk(newItems));\n      // Notify parent if needed\n      onOrderChange && onOrderChange(newItems);\n      setReorder(true);\n    }\n  };\n\n  // Callback to delete an item from state using redux thunk\n  const handleDelCategory = (id) => {\n    const categoryToDelete = items.find((i) => i._id === id)?.category || \"\";\n    dispatch(delCategoryThunk({ categoryId: id, categoryName: categoryToDelete }));\n    setItems((prevItems) => prevItems.filter((i) => i._id !== id));\n  };\n\n  // Sort items by priority before rendering\n  const sortedItems = [...items].sort((a, b) => a.priority - b.priority);\n\n  return (\n    <>\n      <DndContext sensors={useSensors(useSensor(PointerSensor, { activationConstraint: { distance: 5 } }))} collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\n        <SortableContext items={sortedItems.map((item) => item._id)} strategy={verticalListSortingStrategy}>\n          {sortedItems.map((item, index) => (\n            <SortableItem\n              key={item._id}\n              item={item}\n              index={index}\n              onSelect={onSelect}\n              editCategories={editCategories}\n              translatedCategory={translatedCategories[index]}\n              delCategoryCallback={handleDelCategory}\n            />\n          ))}\n        </SortableContext>\n      </DndContext>\n      {!newCat && (\n        <div className=\"nav-item flex items-center justify-start\" >\n          <a href=\"#\" onClick={() => setNewCat(true)}>\n            + {t(\"addCategory\")}\n          </a>\n        </div>\n      )}\n      {newCat && (\n        <input\n          type=\"text\"\n          placeholder={t(\"addCategory\")}\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              handleAddItem();\n            }\n          }}\n          className=\"mt-2 p-2 border rounded w-full\"\n        />\n      )}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport NavItemList from \"./NavItemList\";\nimport { useTranslation } from \"react-i18next\";\nimport { Button } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\"; // ✅ Step 1\n\nexport default function NavMenu({ pages, onSelect, isOpen,  language, desktop }) {\n  const { t, i18n } = useTranslation();\n  const [editCategories, setEditCategories] = useState(false);\n  const [reorder, setReorder] = useState(false);\n  const [orderedPages, setOrderedPages] = useState(pages);\n\n  const navigate = useNavigate(); // ✅ Step 2\n\n  useEffect(() => {\n    setOrderedPages(pages);\n  }, [pages]);\n\n  const handleOrderChange = (newOrder) => {\n    setOrderedPages(newOrder);\n  };\n\n  const handleSelectCategory = (item) => {\n    onSelect(item);\n    setEditCategories(false);\n    setReorder(false);\n    \n    // ✅ Step 3: Navigate to the new route\n    if (item?.category) {\n      const categoryEncoded = encodeURIComponent(item.category);\n      navigate(`/recipes/${categoryEncoded}`);\n    }\n  };\n\n  return (\n    <div className={`nav ${isOpen || reorder || desktop ? \"show\" : \"hide\"}`}>\n      <NavItemList\n        editCategories={editCategories}\n        pages={orderedPages}\n        onSelect={handleSelectCategory}\n        onOrderChange={handleOrderChange}\n        setReorder={setReorder}\n      />\n<Button\n        variant=\"contained\"\n        onClick={() => setEditCategories(!editCategories)}\n        sx={{\n          \n          backgroundColor: 'black',\n          \"&:hover\": {\n            backgroundColor: 'blue',\n            \"& .MuiSvgIcon-root\": {\n              color: 'black',\n            },\n          },\n        }}\n      >{t(\"changeOrder\")}\n      </Button>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { translateDirectly } from \"./translateAI\";\nimport dayjs from \"dayjs\";\nimport * as storage from \"../utils/storage\";\n\nexport default function CaseCard({ item, category, index , isDarkMode }) {\n  const { t, i18n } = useTranslation();\n  const currentLang = i18n.language;\n\n  const [translated, setTranslated] = useState({\n    title: \"\",\n    description: \"\",\n  });\n  const [imageUrl, setImageUrl] = useState(\"C:\\\\FE-code\\\\recipes\\\\BE\\\\images\\\\1747127810600-generated-image.png\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const translateFields = async () => {\n      setIsLoading(true);\n      try {\n        const [title, description] = await Promise.all([\n          translateDirectly(item.title, currentLang),\n          translateDirectly(item.description, currentLang),\n        ]);\n        setTranslated({ title, description });\n      } catch (error) {\n        console.error(\"Translation error:\", error);\n        setTranslated({ title: item.title, description: item.description });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    if (item && currentLang !== \"en\") {\n      translateFields();\n    } else {\n      setTranslated({ title: item.title, description: item.description });\n    }\n  }, [item, currentLang]);\n\n  const isNewRecipe = item.title === \"ADD NEW RECEPY\";\n  const linkHref = `/recipies/${encodeURIComponent(\n    category\n  )}/${encodeURIComponent(item.title)}`;\n\n  return (\n    <div className=\"case\" style={{ backgroundColor: isDarkMode ? \"#333\" : \"#fffce8\" }}>\n      <img\n        src={item.imageUrl || imageUrl} \n        alt={translated.title || item.title}\n        onError={(e) => {e.target.src=`https://placehold.co/100x100?text=${item.title}`;}}\n      />\n      <h2>{isLoading ? t(\"loading\") : translated.title}</h2>\n      <p style={{color:isDarkMode?\"#fff\":\"#333\"}}>{item.createdAt ? ` ${dayjs(item.createdAt).format(\"DD-MM-YYYY\")}` : \"\"}</p>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport CaseCard from \"./CaseCard\";\nimport Pagination from \"@mui/material/Pagination\";\nimport Button from \"@mui/material/Button\";\nimport RecipeDialog from \"./RecipeDialog\";\nimport { useTranslation } from \"react-i18next\";\nimport { translateDirectly } from \"./translateAI\";\nimport { generateImage } from \"./imageAI\";\nimport { useDispatch } from \"react-redux\";\nimport { addRecipeThunk, delRecipeThunk, updateRecipeThunk } from \"../store/dataSlice\";\nimport {\n  DndContext,\n  closestCenter,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport {\n  SortableContext,\n  verticalListSortingStrategy,\n  arrayMove,\n  useSortable,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { useNavigate } from \"react-router-dom\";\n\n\n\n\nfunction SortableRecipe({ recipe, index, onSelect }) {\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({\n    id: recipe._id,\n  });\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    marginBottom: \"10px\",\n    cursor: \"grab\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    gap: \"1rem\",\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...attributes}\n      {...listeners}\n      onClick={() => onSelect(recipe)}\n    >\n      <CaseCard item={recipe} category={recipe.category} index={index + 1} />\n    </div>\n  );\n}\n\nexport default function MainContent({ data, selected, selectedRecipe, addRecipe, desktop,isDarkMode }) {\n  const { t, i18n } = useTranslation();\n  const dispatch = useDispatch();\n\n  const [page, setPage] = useState(1);\n  const [translatedCategory, setTranslatedCategory] = useState(selected?.category);\n  const itemsPerPage = 8;\n  const [openView, setOpenView] = useState(selectedRecipe || false);\n  const [openAdd, setOpenAdd] = useState(addRecipe || false);\n  const [openFill, setOpenFill] = useState(false);\n  const [viewedItem, setViewedItem] = useState(selectedRecipe || null);\n  const [newRecipe, setNewRecipe] = useState({\n    title: \"\",\n    ingredients: \"\",\n    preparation: \"\",\n  });\n  const [editOrder, setEditOrder] = useState(false);\n\n  // Assume recipes are stored in selected.itemPage\n  const [recipes, setRecipes] = useState(selected?.itemPage || []);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    setOpenView(selectedRecipe)\n  }, [selectedRecipe]);\n\n\n  useEffect(() => {\n    setRecipes(selected?.itemPage || []);\n  }, [selected]);\n\n  // Translate category name\n  useEffect(() => {\n    const translateCategory = async () => {\n      if (selected?.category && i18n.language !== \"en\") {\n        const translated = await translateDirectly(selected.category, i18n.language);\n        setTranslatedCategory(translated);\n      } else {\n        setTranslatedCategory(selected?.category);\n      }\n    };\n    translateCategory();\n  }, [selected?.category, i18n.language]);\n\n  // Sensors for DnD\n  const sensors = useSensors(\n    useSensor(PointerSensor, { activationConstraint: { distance: 5 } })\n  );\n\n  const handleRecipeDragEnd = (event) => {\n    const { active, over } = event;\n    if (!over) return;\n    if (active.id !== over.id) {\n      const oldIndex = recipes.findIndex((r) => r._id === active.id);\n      const newIndex = recipes.findIndex((r) => r._id === over.id);\n      const newRecipes = arrayMove(recipes, oldIndex, newIndex);\n      setRecipes(newRecipes);\n      // Optionally: dispatch a thunk to persist this new order\n      // dispatch(reorderRecipesThunk(newRecipes));\n    }\n  };\n\n  const handleAddRecipe = async (recipe) => {\nconsole.log(\"Adding recipe:\", recipe);\n    const newRecipeData = {\n      title: recipe?.title,\n      ingredients: recipe?.ingredients,\n      preparation: recipe?.preparation,\n      categoryId: selected?._id,\n      imageUrl: recipe?.imageUrl || \"\",\n      category: selected?.category,\n    };\n    console.log(\"Adding recipe:\", newRecipeData);\n    try {\n      const response = await dispatch(\n        addRecipeThunk({ recipe: newRecipeData, category: selected })\n      ).unwrap();\n      console.log(\"Recipe added:\", response);\n      setRecipes([...recipes, newRecipeData]);\n    } catch (error) {\n      console.error(\"Error adding recipe:\", error.response?.data || error.message);\n    }\n\n    setNewRecipe({ title: \"\", ingredients: \"\", preparation: \"\" });\n    setOpenAdd(false);\n    setOpenView(false);\n  };\n\n  // New function: Update existing recipe\n  const handleUpdateRecipe = async (updatedRecipe) => {\n    updatedRecipe._id = viewedItem._id; // Ensure we have the correct ID\n    updatedRecipe.categoryId = selected?._id; // Ensure we have the correct category ID\n    updatedRecipe.category = selected?.category; // Ensure we have the correct category name\n    console.log(\"Updating recipe:\", updatedRecipe);\n    try {\n      const response = await dispatch(updateRecipeThunk(updatedRecipe)).unwrap();\n      console.log(\"Recipe updated:\", response);\n      setRecipes((prevRecipes) =>\n        prevRecipes.map((r) => (r._id === updatedRecipe._id ? updatedRecipe : r))\n      );\n      setOpenView(false);\n    } catch (error) {\n      console.error(\"Error updating recipe:\", error.response?.data || error.message);\n    }\n  };\n\n  // Function to delete a recipe using Redux and update local state\n  const handleDeleteRecipe = (recipe) => {\n    if (window.confirm(t(\"Are you sure you want to delete this recipe? ID:\" + recipe._id + \" \" + recipe.title))) {\n      dispatch(delRecipeThunk(recipe._id))\n        .unwrap()\n        .then(() => {\n          setRecipes((prevRecipes) =>\n            prevRecipes.filter((r) => r._id !== recipe._id)\n          );\n        })\n        .catch((err) => {\n          console.error(\"Error deleting recipe:\", err);\n        });\n    }\n  };\n\n  const totalItems = recipes.length;\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\n  const startIndex = (page - 1) * itemsPerPage;\n  const endIndex = Math.min(startIndex + itemsPerPage, totalItems);\n  const currentItems = recipes.slice(startIndex, endIndex);\n\n  const handlePageChange = (event, value) => {\n    setPage(value);\n  };\n\nconst handleSelectRecipe = (recipe) => {\n  console.log(\"Selected recipe:\", recipe);\n  setViewedItem(recipe);\n  setOpenView(true);\n  if (recipe && selected?.category && recipe?.title) {\n    const categoryEncoded = encodeURIComponent(selected?.category);\n    const titleEncoded = encodeURIComponent(recipe?.title);\n    navigate(`/recipes/${categoryEncoded}/${titleEncoded}`);\n    console.log(\"Navigating to:\", `/recipes/${categoryEncoded}/${titleEncoded}`);\n  }\n};\n\n  return (\n    <div className=\"main\">\n      <div\n        className=\"main-title\"\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          alignItems: \"center\",\n          gap: \"1rem\",\n        }}\n      >\n        <div style={{  flexBasis: \"100%\", textAlign: \"center\" , color: isDarkMode ? \"white\" : \"inherit\",}}>\n          {translatedCategory}\n        </div>\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => setOpenAdd(true)}\n            sx={{\n              width: \"400 px\",\n              alignItems: \"center\",\n              textAlign: \"center\",\n            }}\n          >\n            {t(\"addRecipe\")}\n          </Button>\n                    <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => {\n              setOpenFill(true); \n              setOpenAdd(true)\n            }}\n            sx={{\n              width: \"400 px\",\n              alignItems: \"center\",\n              textAlign: \"center\",\n            }}\n          >\n            AI {t(\"addRecipe\")}\n          </Button>\n          {/* <Button\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => setEditOrder((prev) => !prev)}\n            sx={{\n              flexGrow: 1,\n              width: \"100%\",\n            }}\n          >\n            {t(\"editOrder\")}\n          </Button> */} \n      </div>\n      <p style={{ flexBasis: \"100%\", textAlign: \"center\" }}>\n        {t(\"page\")} {page}, {t(\"recipes\")} {startIndex + 1}–{endIndex} {t(\"of\")} {totalItems}\n      </p>\n      {totalPages > 1 && (\n        <div className=\"pagination-container\">\n          <Pagination\n            count={totalPages}\n            page={page}\n            onChange={handlePageChange}\n            color=\"primary\"\n            sx={{\n              \"& .MuiPaginationItem-root\": {\n                color: (theme) => theme.mode === \"dark\" ? \"white\" : \"inherit\",\n              },\n            }}\n          />\n        </div>\n      )}\n      {editOrder ? (\n        <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleRecipeDragEnd}>\n          <SortableContext items={recipes.map((r) => r._id)} strategy={verticalListSortingStrategy}>\n            {recipes.map((recipe, index) => (\n              <SortableRecipe key={recipe._id} recipe={recipe} index={index} onSelect={handleSelectRecipe} />\n            ))}\n          </SortableContext>\n        </DndContext>\n      ) : (\n        <div className=\"row d-flex justify-content-center\">\n          {currentItems.map((item, index) => {\n            let colClass = \"col-12 col-sm-8 col-md-6 col-lg-3\";\n            if (currentItems.length === 1) {\n              colClass = \"col-12\";\n            } else if (currentItems.length === 2) {\n              colClass = \"col-sm-6\";\n            }\n            return (\n              <div\n                key={index}\n                className={`${colClass} mb-4 d-flex justify-content-center`}\n                onClick={() => handleSelectRecipe(item)}\n              >\n                <CaseCard index={startIndex + index + 1} item={item} category={selected?.category} isDarkMode={isDarkMode} />\n              </div>\n            );\n          })}\n        </div>\n      )}\n      <RecipeDialog\n        open={openView}\n        onClose={() => setOpenView(false)}\n        type=\"view\"\n        recipe={viewedItem}\n        onSave={(recipe) => {\n          // If editing an existing recipe, call update; otherwise, add new.\n          console.log(\"Saving recipe:\", recipe, viewedItem?._id);\n          viewedItem?._id ? handleUpdateRecipe(recipe) : handleAddRecipe(recipe);\n        }}\n        onDelete={(recipe) => {\n          handleDeleteRecipe(recipe);\n        }}\n        targetLang={i18n.language}\n      />\n      <RecipeDialog\n        open={openAdd}\n        autoFill={openFill}\n        onClose={() => setOpenAdd(false)}\n        type=\"add\"\n        recipe={newRecipe}\n        categoryName={selected?.category}\n        onSave={(recipe) => {\n          console.log(\"Saving recipe:\", recipe, viewedItem?._id);\n          handleAddRecipe(recipe);\n        }}\n        targetLang={i18n.language}\n      />\n    </div>\n  );\n}\n","// src/themes.js\n\nexport const lightTheme = {\n    background: \"#fffce8\",\n    color: \"#333\",\n    headerBackground: \"#333\",\n    sidebarBackground: \"#333\",\n    caseBackground: \"#eeede7\",\n    caseTextColor: \"#333\",\n  };\n  \n  export const darkTheme = {\n    background: \"#121212\",\n    color: \"#fff\",\n    headerBackground: \"#444\",\n    sidebarBackground: \"#444\",\n    caseBackground: \"#333\",\n    caseTextColor: \"#fff\",\n    \n  };\n  ","// src/GlobalStyle.js\nimport { createGlobalStyle } from \"styled-components\";\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background-color: ${({ theme }) => theme.background};\n    color: ${({ theme }) => theme.color};\n    font-family: Arial, sans-serif;\n    margin: 0;\n    padding: 0;\n  }\n\n  h1, h2, h3, p {\n    color: ${({ theme }) => theme.color};\n  }\n`;\n\nexport default GlobalStyle;\n","import \"../styles.css\";\nimport React, { useState, useEffect } from \"react\";\nimport HeaderBar from \"../components/HeaderBar\";\nimport NavMenu from \"../components/NavMenu\";\nimport MainContent from \"../components/MainContent\";\nimport { useTranslation } from \"react-i18next\";\nimport { ThemeProvider } from \"styled-components\";\nimport { lightTheme, darkTheme } from \"../components/themes\";\nimport GlobalStyle from \"../components/GlobalStyle\";\nimport * as store from \"../utils/storage\"; // adjust path if needed\n\nexport default function Main(props) {\n  const { selectedRecipe, newRecipe, recipes, setRecipes, selected, setSelected } = props;\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { i18n } = useTranslation();\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [desktop, setDesktop] = useState(window.innerWidth > 768); // Check if desktop\n\n  // Define the handleHamburgerClick function\n  const handleHamburgerClick = () => {\n    console.log(\"Hamburger clicked\", desktop);\n    console.log(\"menuOpen\", menuOpen);\n    if (desktop) {\n      setMenuOpen(true); // Always open on desktop\n      return;\n    }\n    setMenuOpen((prevMenuOpen) => !prevMenuOpen); // Toggle the menu state\n    if (!menuOpen) {\n      window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll to top when opening\n      console.log(\"Should show the menu\", menuOpen);\n    }\n  };\n\n  useEffect(() => {\n    const handleResize = () => {\n      setDesktop(window.innerWidth > 768); // Update desktop state based on window width\n    };\n    handleResize(); // Initial check on mount\n    window.addEventListener(\"resize\", handleResize); // Add event listener for window resize\n  }, [window.innerWidth]);\n\n  if (!recipes) return null; // Wait until recipes are loaded\n  if (!recipes?.site?.pages) return null;\n\n  return (\n    <ThemeProvider theme={isDarkMode ? darkTheme : lightTheme}>\n      <div className=\"App\">\n        <GlobalStyle />\n\n        <div className=\"TOP\">\n          <HeaderBar\n            desktop={desktop}\n            toggleDarkMode={() => setIsDarkMode((prev) => !prev)}\n            logo={\"https://vt-photos.s3.amazonaws.com/recipe-app-icon-generated-image.png\"}\n            onHamburgerClick={handleHamburgerClick} // Pass the function here\n            pages={recipes?.site?.pages}\n            isDarkMode={isDarkMode}\n            data={recipes}\n          />\n        </div>\n        <div className=\"container-fluid ps-0 pe-0\">\n          <div className=\"flex-column flex-md-row ps-0 pe-0 row\">\n            <div\n              className=\"nav-menu col-12 col-md-auto ps-0 pe-0\"\n              style={{ width: desktop ? '400px' : '100%' }}\n            >\n              <NavMenu\n                pages={recipes?.site?.pages}\n                isOpen={menuOpen || desktop}\n                onSelect={(item) => {\n                  console.log(\"Selected item:\", item);\n                  setSelected(item);\n                  if (!desktop) setMenuOpen(false);\n                }}\n                editCategories={false}\n                data={recipes}\n                desktop={desktop}\n                language={i18n.language}\n              />\n            </div>\n\n            <div className=\"main-content col\">\n              {selected && (\n                <MainContent\n                  selected={selected}\n                  selectedRecipe={selectedRecipe}\n                  addRecipe={newRecipe}\n                  data={recipes}\n                  desktop={desktop}\n                  isDarkMode={isDarkMode}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n\n\n      </div>\n    </ThemeProvider>\n  );\n}","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport HomePage from \"./HomePage\";\nimport data from \"../data/recipes.json\";\n\nexport default function RecipeCategory(props) {\n  const { selectedRecipe, newRecipe, recipes, setRecipes, selected, setSelected } = props;\n  const { category, title } = useParams();\n  console.log('trying to find category:',useParams());\n  const pages = recipes?.site?.pages || [];\n\n  // Normalize category (lowercase) for comparison\n  const selectedCategoryData = pages.find(\n    (page) => page?.category?.toLowerCase() === category?.toLowerCase()\n  );\n\n  if (selectedCategoryData) {\n   // console.log(\"Found category:\", selectedCategoryData);\n    return <HomePage\n      recipes={recipes}\n      setRecipes={setRecipes}\n      setSelected={setSelected}\n      selected={selectedCategoryData} />;\n  } else {\n    console.warn(\"Category not found:\", category);\n    return <div>Category not found.</div>;\n  }\n}\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport HomePage from \"./HomePage\";\nimport data from \"../data/recipes.json\";\n\nexport default function RecipeDetail(props) {\n  const { selectedRecipe, newRecipe, recipes, setRecipes, selected, setSelected } = props;\n  const { category, title } = useParams();\n\n  const pages = recipes?.site?.pages || [];\n\n  // Normalize category (lowercase) for comparison\n  const selectedCategoryData = pages.find(\n    (page) => page?.category?.toLowerCase() === category?.toLowerCase()\n  );\n\n  const selectedRecipeData = selectedCategoryData.itemPage.find(\n    (recipe) => recipe?.title?.toLowerCase() === title?.toLowerCase()\n  );\n\n  if (selectedCategoryData) {\n   // console.log(\"Found category:\", selectedCategoryData, selectedRecipeData);\n    if (!selectedRecipeData) {\n      console.warn(\"Recipe not found:\", title);\n      return <div>Recipe not found.</div>;\n    }\n   // console.log(\"Found recipe:\", selectedRecipeData);\n    return (\n      <HomePage\n        selectedCategory={selectedCategoryData}\n        selectedRecipe={selectedRecipeData}\n        recipes={recipes}\n        setRecipes={setRecipes}\n        selected={selected}\n        setSelected={setSelected}\n      />\n    );\n  }  else {\n    console.warn(\"Category not found:\", category);\n    return <div>Category not found.</div>;\n  }\n}\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport HomePage from \"./HomePage\";\nimport data from \"../data/recipes.json\";\n\nexport default function RecipeDetail(props) {\n  const { recipes, setRecipes, selected, setSelected } = props;\n  const { category, title } = useParams();\n  console.log(useParams());\n  const pages = data?.site?.pages || [];\n\n  // Normalize category (lowercase) for comparison\n  const selectedCategoryData = pages.find(\n    (page) => page?.category?.toLowerCase() === category?.toLowerCase()\n  );\n\n  if (selectedCategoryData) {\n    console.log(\"Found category:\", selectedCategoryData);\n    return (\n      <HomePage\n        selectedCategory={selectedCategoryData}\n        newRecipe={true}\n        recipes={recipes}\n        setRecipes={setRecipes}\n        selected={selected}\n        setSelected={setSelected}\n      />\n    );\n  } else {\n    console.warn(\"Category not found:\", category);\n    return <div>Category not found.</div>;\n  }\n}\n","import { configureStore } from '@reduxjs/toolkit';\nimport dataReducer from './dataSlice';\n\nconst store = configureStore({\n  reducer: {\n    data: dataReducer,\n  },\n});\n\nexport default store;","import React, { useEffect, useState } from \"react\";\nimport i18n from \"./i18n.js\";\nimport \"bootstrap/dist/css/bootstrap.min.css\"; // Import Bootstrap CSS\nimport ReactDOM from \"react-dom/client\";\nimport { I18nextProvider } from \"react-i18next\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport RecipeCategory from \"./Pages/RecipeCategory.jsx\";\nimport RecipeDetail from \"./Pages/RecipeDetail\";\nimport AddRecipe from \"./Pages/AddRecipe\";\nimport HomePage from \"./Pages/HomePage\";\nimport \"./styles.css\";\n\n// Import Redux Provider and store\nimport { Provider } from \"react-redux\";\nimport * as storage from \"./utils/storage\"; // adjust path if needed\nimport store from \"./store/store.js\"\n\nconst rootElement = document.getElementById(\"root\");\nconst root = ReactDOM.createRoot(rootElement);\n\nfunction App() {\n  const [recipes, setRecipes] = useState(null);\n  const [selected, setSelected] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const data = await storage.loadData();\n      setRecipes(data);\n      if (!selected) {\n        setSelected(data?.site?.pages[0]);\n      }\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    console.log(\"recipes\", recipes);\n  }, [recipes]);\n\n    useEffect(() => {\n    document.body.dir = i18n.language === \"he\" || i18n.language === \"ar\" ? \"rtl\" : \"ltr\";\n  }, [i18n.language]);\n\n  return (\n    <>\n    { recipes && (\n      <Routes>\n        <Route path=\"/\"\n          element={<HomePage\n            recipes={recipes}\n            setRecipes={setRecipes}\n            selected={selected}\n            setSelected={setSelected}\n          />} />\n        <Route path=\"/recipes/:category\"\n          element={<RecipeCategory\n            recipes={recipes}\n            setRecipes={setRecipes}\n            selected={selected}\n            setSelected={setSelected}\n          />} />\n        <Route path=\"/recipes/:category/:title\"\n          element={<RecipeDetail\n            recipes={recipes}\n            setRecipes={setRecipes}\n            selected={selected}\n            setSelected={setSelected}\n          />} />\n        <Route path=\"/recipes/:category/add\"\n          element={<AddRecipe\n            recipes={recipes}\n            setRecipes={setRecipes}\n            selected={selected}\n            setSelected={setSelected}\n          />} />\n      </Routes>\n    )}\n    </>\n)\n}\n\nroot.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <I18nextProvider i18n={i18n}>\n        <Router>\n          <App />\n        </Router>\n      </I18nextProvider>\n    </Provider>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}